<h1>Categories</h1>

<% if @categories.any? %>
  <div class="row">
    <% @categories.each do |category| %>
      <div class="col-sm-6 col-md-4 col-lg-3 mb-3">
        <div class="card h-100">
          <% if category.image.attached? %>
            <%= image_tag category.image.variant(resize_to_limit: [400, 200]),
                          class: "card-img-top",
                          alt: "Image of #{category.name}" %>
          <% end %>
          <div class="card-body">
            <h5 class="card-title"><%= category.name %></h5>
            <p class="card-text"><%= truncate(category.description.presence || "No description available", length: 80) %></p>
          </div>
          <div class="card-footer text-center">
            <%= link_to "Browse", category_path(category),
                        class: "btn btn-outline-primary btn-sm",
                        aria: { label: "Browse products in #{category.name}" } %>
          </div>
        </div>
      </div>
    <% end %>
  </div>

  <div class="d-flex justify-content-center mt-3">
    <%= paginate @categories %>
  </div>
<% else %>
  <p class="alert alert-info">No categories available.</p>
<% end %>
